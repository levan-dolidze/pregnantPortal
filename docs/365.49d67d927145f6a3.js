"use strict";(self.webpackChunkpregnantPortal=self.webpackChunkpregnantPortal||[]).push([[365],{1623:(gi,It,L)=>{L.d(It,{$:()=>$i,A:()=>be,B:()=>Tt,G:()=>kr,H:()=>ke,J:()=>K,L:()=>ze,M:()=>jt,N:()=>Fi,P:()=>oo,Q:()=>Zi,R:()=>eo,T:()=>Vi,U:()=>Be,V:()=>ot,W:()=>Hi,X:()=>Gi,Y:()=>lt,Z:()=>xr,_:()=>Mr,a:()=>On,a0:()=>Ki,a1:()=>ji,a2:()=>Ji,a3:()=>Ur,a4:()=>Yi,a5:()=>Xi,a6:()=>Qi,a7:()=>es,a8:()=>ts,a9:()=>ns,aA:()=>me,aB:()=>rr,aC:()=>Yr,aD:()=>vo,aE:()=>x,aI:()=>qe,aL:()=>Pe,aa:()=>is,ab:()=>ss,ac:()=>os,af:()=>us,ag:()=>ls,ah:()=>cs,ak:()=>Bi,al:()=>_s,an:()=>Is,ao:()=>Rs,ap:()=>V,aq:()=>P,ar:()=>I,as:()=>C,at:()=>lr,au:()=>ii,av:()=>Z,aw:()=>D,ax:()=>m,ay:()=>ti,az:()=>F,b:()=>Wr,c:()=>ho,d:()=>po,e:()=>fo,f:()=>Io,g:()=>Ro,h:()=>Eo,i:()=>qr,j:()=>Ao,k:()=>ai,l:()=>ro,m:()=>ea,n:()=>aa,o:()=>J,r:()=>io,s:()=>no,u:()=>so});var a=L(5861),p=L(9058),c=L(4303),S=L(7879),je=L(7582),yt=L(4537);const J={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},be={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Tt=function Et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Rt=function Ie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},ye=new p.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Je=new S.Yd("@firebase/auth");function te(n,...e){Je.logLevel<=S.in.ERROR&&Je.error(`Auth (${c.SDK_VERSION}): ${n}`,...e)}function C(n,...e){throw Ne(n,...e)}function D(n,...e){return Ne(n,...e)}function Ye(n,e,t){const r=Object.assign(Object.assign({},Rt()),{[e]:t});return new p.LL("auth","Firebase",r).create(e,{appName:n.name})}function ne(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&C(n,"argument-error"),Ye(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ne(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return ye.create(n,...e)}function m(n,e,...t){if(!n)throw Ne(e,...t)}function U(n){const e="INTERNAL ASSERTION FAILED: "+n;throw te(e),new Error(e)}function V(n,e){n||U(e)}const Xe=new Map;function F(n){V(n instanceof Function,"Expected a class definition");let e=Xe.get(n);return e?(V(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Xe.set(n,e),e)}function ce(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function re(){return"http:"===Qe()||"https:"===Qe()}function Qe(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ie{constructor(e,t){this.shortDelay=e,this.longDelay=t,V(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,p.uI)()||(0,p.b$)()}get(){return function At(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(re()||(0,p.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function we(n,e){V(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class et{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void U("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void U("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void U("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const St={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},bt=new ie(3e4,6e4);function k(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function b(n,e,t,r){return Ee.apply(this,arguments)}function Ee(){return(Ee=(0,a.Z)(function*(n,e,t,r,i={}){return tt(n,i,(0,a.Z)(function*(){let s={},l={};r&&("GET"===e?l=r:s={body:JSON.stringify(r)});const f=(0,p.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),g=yield n._getAdditionalHeaders();return g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode),et.fetch()(De(n,n.config.apiHost,t,f),Object.assign({method:e,headers:g,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function tt(n,e,t){return Ce.apply(this,arguments)}function Ce(){return(Ce=(0,a.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},St),e);try{const i=new xe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield s.json();if("needConfirmation"in l)throw Y(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const f=s.ok?l.errorMessage:l.error.message,[g,v]=f.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===g)throw Y(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===g)throw Y(n,"email-already-in-use",l);if("USER_DISABLED"===g)throw Y(n,"user-disabled",l);const y=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Ye(n,y,v);C(n,y)}}catch(i){if(i instanceof p.ZR)throw i;C(n,"internal-error",{message:String(i)})}})).apply(this,arguments)}function H(n,e,t,r){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(function*(n,e,t,r,i={}){const s=yield b(n,e,t,r,i);return"mfaPendingCredential"in s&&C(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function De(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?we(n.config,i):`${n.config.apiScheme}://${i}`}class xe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(D(this.auth,"network-request-failed")),bt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Y(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=D(n,e,r);return i.customData._tokenResponse=t,i}function Me(){return(Me=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function Fe(){return(Fe=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function X(){return(X=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function se(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function de(){return(de=(0,a.Z)(function*(n,e=!1){const t=(0,p.m9)(n),r=yield t.getIdToken(e),i=he(r);m(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,l=s?.sign_in_provider;return{claims:i,token:r,authTime:se(Ve(i.auth_time)),issuedAtTime:se(Ve(i.iat)),expirationTime:se(Ve(i.exp)),signInProvider:l||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Ve(n){return 1e3*Number(n)}function he(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return te("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,p.tV)(t);return i?JSON.parse(i):(te("Failed to decode base64 JWT payload"),null)}catch(i){return te("Caught error parsing JWT payload as JSON",i?.toString()),null}}function O(n,e){return Te.apply(this,arguments)}function Te(){return(Te=(0,a.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof p.ZR&&function Ot({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class wt{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,a.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,a.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class rt{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=se(this.lastLoginAt),this.creationTime=se(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function oe(n){return w.apply(this,arguments)}function w(){return w=(0,a.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield O(n,function M(n,e){return X.apply(this,arguments)}(t,{idToken:r}));m(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function G(n){return n.map(e=>{var{providerId:t}=e,r=(0,je._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],f=function Ct(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),y=!!n.isAnonymous&&!(n.email&&s.passwordHash||f?.length),A={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:f,metadata:new rt(s.createdAt,s.lastLoginAt),isAnonymous:y};Object.assign(n,A)}),w.apply(this,arguments)}function fe(){return(fe=(0,a.Z)(function*(n){const e=(0,p.m9)(n);yield oe(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function Re(){return(Re=(0,a.Z)(function*(n,e){const t=yield tt(n,{},(0,a.Z)(function*(){const r=(0,p.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=De(n,i,"/v1/token",`key=${s}`),f=yield n._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",et.fetch()(l,{method:"POST",headers:f,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class ae{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){m(e.idToken,"internal-error"),m(typeof e.idToken<"u","internal-error"),m(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Nt(n){const e=he(n);return m(e,"internal-error"),m(typeof e.exp<"u","internal-error"),m(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,a.Z)(function*(){return m(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,a.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:l}=yield function pe(n,e){return Re.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new ae;return r&&(m("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(m("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),s&&(m("number"==typeof s,"internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ae,this.toJSON())}_performRefresh(){return U("not implemented")}}function $(n,e){m("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class B{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=(0,je._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new wt(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rt(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,a.Z)(function*(){const r=yield O(t,t.stsTokenManager.getToken(t.auth,e));return m(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function Ze(n){return de.apply(this,arguments)}(this,e)}reload(){return function We(n){return fe.apply(this,arguments)}(this)}_assign(e){this!==e&&(m(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new B(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){m(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,a.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield oe(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,a.Z)(function*(){const t=yield e.getIdToken();return yield O(e,function nt(n,e){return Me.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,f,g,v,y;const A=null!==(r=t.displayName)&&void 0!==r?r:void 0,j=null!==(i=t.email)&&void 0!==i?i:void 0,le=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,vt=null!==(l=t.photoURL)&&void 0!==l?l:void 0,di=null!==(f=t.tenantId)&&void 0!==f?f:void 0,hr=null!==(g=t._redirectEventId)&&void 0!==g?g:void 0,hi=null!==(v=t.createdAt)&&void 0!==v?v:void 0,fi=null!==(y=t.lastLoginAt)&&void 0!==y?y:void 0,{uid:fr,emailVerified:pi,isAnonymous:mi,providerData:pr,stsTokenManager:_i}=t;m(fr&&_i,e,"internal-error");const ua=ae.fromJSON(this.name,_i);m("string"==typeof fr,e,"internal-error"),$(A,e.name),$(j,e.name),m("boolean"==typeof pi,e,"internal-error"),m("boolean"==typeof mi,e,"internal-error"),$(le,e.name),$(vt,e.name),$(di,e.name),$(hr,e.name),$(hi,e.name),$(fi,e.name);const mr=new B({uid:fr,auth:e,email:j,emailVerified:pi,displayName:A,isAnonymous:mi,photoURL:vt,phoneNumber:le,tenantId:di,stsTokenManager:ua,createdAt:hi,lastLoginAt:fi});return pr&&Array.isArray(pr)&&(mr.providerData=pr.map(la=>Object.assign({},la))),hr&&(mr._redirectEventId=hr),mr}static _fromIdTokenResponse(e,t,r=!1){return(0,a.Z)(function*(){const i=new ae;i.updateFromServerResponse(t);const s=new B({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield oe(s),s})()}}const ze=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,a.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,a.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,a.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function me(n,e,t){return`firebase:${n}:${e}:${t}`}class ue{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=me(this.userKey,i.apiKey,s),this.fullPersistenceKey=me("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,a.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?B._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,a.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,a.Z)(function*(){if(!t.length)return new ue(F(ze),e,r);const i=(yield Promise.all(t.map(function(){var v=(0,a.Z)(function*(y){if(yield y._isAvailable())return y});return function(y){return v.apply(this,arguments)}}()))).filter(v=>v);let s=i[0]||F(ze);const l=me(r,e.config.apiKey,e.name);let f=null;for(const v of t)try{const y=yield v._get(l);if(y){const A=B._fromJSON(e,y);v!==s&&(f=A),s=v;break}}catch{}const g=i.filter(v=>v._shouldAllowMigration);return s._shouldAllowMigration&&g.length?(s=g[0],f&&(yield s._set(l,f.toJSON())),yield Promise.all(t.map(function(){var v=(0,a.Z)(function*(y){if(y!==s)try{yield y._remove(l)}catch{}});return function(y){return v.apply(this,arguments)}}())),new ue(s,e,r)):new ue(s,e,r)})()}}function d(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(u(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(E(e))return"Blackberry";if(R(e))return"Webos";if(o(e))return"Safari";if((e.includes("chrome/")||h(e))&&!e.includes("edge/"))return"Chrome";if(I(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function u(n=(0,p.z$)()){return/firefox\//i.test(n)}function o(n=(0,p.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function h(n=(0,p.z$)()){return/crios\//i.test(n)}function _(n=(0,p.z$)()){return/iemobile/i.test(n)}function I(n=(0,p.z$)()){return/android/i.test(n)}function E(n=(0,p.z$)()){return/blackberry/i.test(n)}function R(n=(0,p.z$)()){return/webos/i.test(n)}function P(n=(0,p.z$)()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Z(n=(0,p.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function q(n=(0,p.z$)()){return P(n)||I(n)||R(n)||E(n)||/windows phone/i.test(n)||_(n)}function Tr(n,e=[]){let t;switch(n){case"Browser":t=d((0,p.z$)());break;case"Worker":t=`${d((0,p.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${c.SDK_VERSION}/${r}`}class vi{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,f)=>{try{l(e(s))}catch(g){f(g)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,a.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Ii{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Rr(this),this.idTokenSubscription=new Rr(this),this.beforeStateQueue=new vi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ye,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=F(t)),this._initializationPromise=this.queue((0,a.Z)(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield ue.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,a.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,a.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let s=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const f=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,g=s?._redirectEventId,v=yield t.tryRedirectSignIn(e);(!f||f===g)&&v?.user&&(s=v.user,l=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(s)}catch(f){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(f))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return m(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return(0,a.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,a.Z)(function*(){try{yield oe(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Pt(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,a.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,a.Z)(function*(){const r=e?(0,p.m9)(e):null;return r&&m(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,a.Z)(function*(){if(!r._deleted)return e&&m(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,a.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,a.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,a.Z)(function*(){yield t.assertedPersistence.setPersistence(F(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new p.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,a.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,a.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&F(e)||t._popupRedirectResolver;m(r,t,"argument-error"),t.redirectPersistenceManager=yield ue.create(t,[F(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,a.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,a.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,a.Z)(function*(){if(e===t.currentUser)return t.queue((0,a.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return m(l,this,"internal-error"),l.then(()=>s(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,a.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return m(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Tr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,a.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return i&&(r["X-Firebase-Client"]=i),r})()}}function x(n){return(0,p.m9)(n)}class Rr{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,p.ne)(t=>this.observer=t)}get next(){return m(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function kr(n,e,t){const r=x(n);m(r._canInitEmulator,r,"emulator-config-failed"),m(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=Ar(e),{host:l,port:f}=function yi(n){const e=Ar(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Pr(r.substr(s.length+1))}}{const[s,l]=r.split(":");return{host:s,port:Pr(l)}}}(e);r.config.emulator={url:`${s}//${l}${null===f?"":`:${f}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:f,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function Ei(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}function Ar(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Pr(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class ke{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return U("not implemented")}_getIdTokenResponse(e){return U("not implemented")}_linkToIdToken(e,t){return U("not implemented")}_getReauthenticationResolver(e){return U("not implemented")}}function Sr(n,e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:resetPassword",k(n,e))})).apply(this,arguments)}function br(n,e){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function xt(){return(xt=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:update",k(n,e))})).apply(this,arguments)}function Mt(){return(Mt=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signInWithPassword",k(n,e))})).apply(this,arguments)}function st(n,e){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:sendOobCode",k(n,e))})).apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(n,e){return st(n,e)})).apply(this,arguments)}function Zt(){return(Zt=(0,a.Z)(function*(n,e){return st(n,e)})).apply(this,arguments)}function Vt(){return(Vt=(0,a.Z)(function*(n,e){return st(n,e)})).apply(this,arguments)}function Wt(){return(Wt=(0,a.Z)(function*(n,e){return st(n,e)})).apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signInWithEmailLink",k(n,e))})).apply(this,arguments)}function Ht(){return(Ht=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signInWithEmailLink",k(n,e))})).apply(this,arguments)}class He extends ke{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new He(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new He(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,a.Z)(function*(){switch(t.signInMethod){case"password":return function Ri(n,e){return Mt.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function bi(n,e){return zt.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:C(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return(0,a.Z)(function*(){switch(r.signInMethod){case"password":return br(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function Ni(n,e){return Ht.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:C(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Q(n,e){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signInWithIdp",k(n,e))})).apply(this,arguments)}class K extends ke{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new K(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):C("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=(0,je._T)(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new K(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){return Q(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Q(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Q(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,p.xO)(t)}return e}}function Bt(){return(Bt=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:sendVerificationCode",k(n,e))})).apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signInWithPhoneNumber",k(n,e))})).apply(this,arguments)}function $t(){return($t=(0,a.Z)(function*(n,e){const t=yield H(n,"POST","/v1/accounts:signInWithPhoneNumber",k(n,e));if(t.temporaryProof)throw Y(n,"account-exists-with-different-credential",t);return t})).apply(this,arguments)}const Di={USER_NOT_FOUND:"user-not-found"};function Kt(){return(Kt=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signInWithPhoneNumber",k(n,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Di)})).apply(this,arguments)}class _e extends ke{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new _e({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new _e({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function Ci(n,e){return qt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function Li(n,e){return $t.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function xi(n,e){return Kt.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return r||t||i||s?new _e({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}):null}}class Ge{constructor(e){var t,r,i,s,l,f;const g=(0,p.zd)((0,p.pd)(e)),v=null!==(t=g.apiKey)&&void 0!==t?t:null,y=null!==(r=g.oobCode)&&void 0!==r?r:null,A=function Mi(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=g.mode)&&void 0!==i?i:null);m(v&&y&&A,"argument-error"),this.apiKey=v,this.operation=A,this.code=y,this.continueUrl=null!==(s=g.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(l=g.languageCode)&&void 0!==l?l:null,this.tenantId=null!==(f=g.tenantId)&&void 0!==f?f:null}static parseLink(e){const t=function Ui(n){const e=(0,p.zd)((0,p.pd)(n)).link,t=e?(0,p.zd)((0,p.pd)(e)).deep_link_id:null,r=(0,p.zd)((0,p.pd)(n)).deep_link_id;return(r?(0,p.zd)((0,p.pd)(r)).link:null)||r||t||e||n}(e);try{return new Ge(t)}catch{return null}}}let jt=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return He._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Ge.parseLink(r);return m(i,"argument-error"),He._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ee{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ae extends ee{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Be extends Ae{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return m("providerId"in t&&"signInMethod"in t,"argument-error"),K._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return m(e.idToken||e.accessToken,"argument-error"),K._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return Be.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Be.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:l,providerId:f}=e;if(!r&&!i&&!t&&!s||!f)return null;try{return new Be(f)._credential({idToken:t,accessToken:r,nonce:l,pendingToken:s})}catch{return null}}}let Fi=(()=>{class n extends Ae{constructor(){super("facebook.com")}static credential(t){return K._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.FACEBOOK_SIGN_IN_METHOD="facebook.com",n.PROVIDER_ID="facebook.com",n})(),Zi=(()=>{class n extends Ae{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return K._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})(),Vi=(()=>{class n extends Ae{constructor(){super("github.com")}static credential(t){return K._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch{return null}}}return n.GITHUB_SIGN_IN_METHOD="github.com",n.PROVIDER_ID="github.com",n})();class Pe extends ke{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Q(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Q(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Q(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return r&&i&&s&&r===i?new Pe(r,s):null}static _create(e,t){return new Pe(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class ot extends ee{constructor(e){m(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return ot.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return ot.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=Pe.fromJSON(e);return m(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return Pe._create(r,t)}catch{return null}}}let Hi=(()=>{class n extends Ae{constructor(){super("twitter.com")}static credential(t,r){return K._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:i}=t;if(!r||!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.TWITTER_SIGN_IN_METHOD="twitter.com",n.PROVIDER_ID="twitter.com",n})();function Nr(n,e){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signUp",k(n,e))})).apply(this,arguments)}class z{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return(0,a.Z)(function*(){const s=yield B._fromIdTokenResponse(e,r,i),l=Or(r);return new z({user:s,providerId:l,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return(0,a.Z)(function*(){yield e._updateTokensIfNecessary(r,!0);const i=Or(r);return new z({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function Or(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}function Gi(n){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,a.Z)(function*(n){var e;const t=x(n);if(yield t._initializationPromise,null!==(e=t.currentUser)&&void 0!==e&&e.isAnonymous)return new z({user:t.currentUser,providerId:null,operationType:"signIn"});const r=yield Nr(t,{returnSecureToken:!0}),i=yield z._fromIdTokenResponse(t,"signIn",r,!0);return yield t._updateCurrentUser(i.user),i})).apply(this,arguments)}class at extends p.ZR{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,at.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new at(e,t,r,i)}}function wr(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?at._fromErrorAndOperation(n,s,e,r):s})}function Cr(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}function Bi(n,e){return Xt.apply(this,arguments)}function Xt(){return Xt=(0,a.Z)(function*(n,e){const t=(0,p.m9)(n);yield ut(!0,t,e);const{providerUserInfo:r}=yield function Ue(n,e){return Fe.apply(this,arguments)}(t.auth,{idToken:yield t.getIdToken(),deleteProvider:[e]}),i=Cr(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),yield t.auth._persistUserIfCurrent(t),t}),Xt.apply(this,arguments)}function Qt(n,e){return en.apply(this,arguments)}function en(){return(en=(0,a.Z)(function*(n,e,t=!1){const r=yield O(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return z._forOperation(n,"link",r)})).apply(this,arguments)}function ut(n,e,t){return tn.apply(this,arguments)}function tn(){return(tn=(0,a.Z)(function*(n,e,t){yield oe(e);const i=!1===n?"provider-already-linked":"no-such-provider";m(Cr(e.providerData).has(t)===n,e.auth,i)})).apply(this,arguments)}function Lr(n,e){return nn.apply(this,arguments)}function nn(){return(nn=(0,a.Z)(function*(n,e,t=!1){const{auth:r}=n,i="reauthenticate";try{const s=yield O(n,wr(r,i,e,n),t);m(s.idToken,r,"internal-error");const l=he(s.idToken);m(l,r,"internal-error");const{sub:f}=l;return m(n.uid===f,r,"user-mismatch"),z._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&C(r,"user-mismatch"),s}})).apply(this,arguments)}function Dr(n,e){return rn.apply(this,arguments)}function rn(){return(rn=(0,a.Z)(function*(n,e,t=!1){const r="signIn",i=yield wr(n,r,e),s=yield z._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function lt(n,e){return sn.apply(this,arguments)}function sn(){return(sn=(0,a.Z)(function*(n,e){return Dr(x(n),e)})).apply(this,arguments)}function xr(n,e){return on.apply(this,arguments)}function on(){return(on=(0,a.Z)(function*(n,e){const t=(0,p.m9)(n);return yield ut(!1,t,e.providerId),Qt(t,e)})).apply(this,arguments)}function Mr(n,e){return an.apply(this,arguments)}function an(){return(an=(0,a.Z)(function*(n,e){return Lr((0,p.m9)(n),e)})).apply(this,arguments)}function un(){return(un=(0,a.Z)(function*(n,e){return H(n,"POST","/v1/accounts:signInWithCustomToken",k(n,e))})).apply(this,arguments)}function $i(n,e){return ln.apply(this,arguments)}function ln(){return ln=(0,a.Z)(function*(n,e){const t=x(n),r=yield function qi(n,e){return un.apply(this,arguments)}(t,{token:e,returnSecureToken:!0}),i=yield z._fromIdTokenResponse(t,"signIn",r);return yield t._updateCurrentUser(i.user),i}),ln.apply(this,arguments)}class ct{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?cn._fromServerResponse(e,t):C(e,"internal-error")}}class cn extends ct{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new cn(t)}}function dt(n,e,t){var r;m((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),m(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(m(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(m(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function Ki(n,e,t){return dn.apply(this,arguments)}function dn(){return dn=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n),i={requestType:"PASSWORD_RESET",email:e};t&&dt(r,i,t),yield function Ai(n,e){return Zt.apply(this,arguments)}(r,i)}),dn.apply(this,arguments)}function ji(n,e,t){return hn.apply(this,arguments)}function hn(){return(hn=(0,a.Z)(function*(n,e,t){yield Sr((0,p.m9)(n),{oobCode:e,newPassword:t})})).apply(this,arguments)}function Ji(n,e){return fn.apply(this,arguments)}function fn(){return fn=(0,a.Z)(function*(n,e){yield function Ti(n,e){return xt.apply(this,arguments)}((0,p.m9)(n),{oobCode:e})}),fn.apply(this,arguments)}function Ur(n,e){return pn.apply(this,arguments)}function pn(){return(pn=(0,a.Z)(function*(n,e){const t=(0,p.m9)(n),r=yield Sr(t,{oobCode:e}),i=r.requestType;switch(m(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":m(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":m(r.mfaInfo,t,"internal-error");default:m(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=ct._fromServerResponse(x(t),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}})).apply(this,arguments)}function Yi(n,e){return mn.apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(n,e){const{data:t}=yield Ur((0,p.m9)(n),e);return t.email})).apply(this,arguments)}function Xi(n,e,t){return _n.apply(this,arguments)}function _n(){return(_n=(0,a.Z)(function*(n,e,t){const r=x(n),i=yield Nr(r,{returnSecureToken:!0,email:e,password:t}),s=yield z._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function Qi(n,e,t){return lt((0,p.m9)(n),jt.credential(e,t))}function es(n,e,t){return gn.apply(this,arguments)}function gn(){return gn=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n),i={requestType:"EMAIL_SIGNIN",email:e};m(t.handleCodeInApp,r,"argument-error"),t&&dt(r,i,t),yield function Pi(n,e){return Vt.apply(this,arguments)}(r,i)}),gn.apply(this,arguments)}function ts(n,e){const t=Ge.parseLink(e);return"EMAIL_SIGNIN"===t?.operation}function ns(n,e,t){return vn.apply(this,arguments)}function vn(){return(vn=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n),i=jt.credentialWithLink(e,t||ce());return m(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),lt(r,i)})).apply(this,arguments)}function In(){return(In=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:createAuthUri",k(n,e))})).apply(this,arguments)}function is(n,e){return yn.apply(this,arguments)}function yn(){return yn=(0,a.Z)(function*(n,e){const r={identifier:e,continueUri:re()?ce():"http://localhost"},{signinMethods:i}=yield function rs(n,e){return In.apply(this,arguments)}((0,p.m9)(n),r);return i||[]}),yn.apply(this,arguments)}function ss(n,e){return En.apply(this,arguments)}function En(){return En=(0,a.Z)(function*(n,e){const t=(0,p.m9)(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&dt(t.auth,i,e);const{email:s}=yield function ki(n,e){return Ft.apply(this,arguments)}(t.auth,i);s!==n.email&&(yield n.reload())}),En.apply(this,arguments)}function os(n,e,t){return Tn.apply(this,arguments)}function Tn(){return Tn=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield n.getIdToken(),newEmail:e};t&&dt(r.auth,s,t);const{email:l}=yield function Si(n,e){return Wt.apply(this,arguments)}(r.auth,s);l!==n.email&&(yield n.reload())}),Tn.apply(this,arguments)}function Rn(){return(Rn=(0,a.Z)(function*(n,e){return b(n,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function us(n,e){return kn.apply(this,arguments)}function kn(){return kn=(0,a.Z)(function*(n,{displayName:e,photoURL:t}){if(void 0===e&&void 0===t)return;const r=(0,p.m9)(n),s={idToken:yield r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},l=yield O(r,function as(n,e){return Rn.apply(this,arguments)}(r.auth,s));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const f=r.providerData.find(({providerId:g})=>"password"===g);f&&(f.displayName=r.displayName,f.photoURL=r.photoURL),yield r._updateTokensIfNecessary(l)}),kn.apply(this,arguments)}function ls(n,e){return Fr((0,p.m9)(n),e,null)}function cs(n,e){return Fr((0,p.m9)(n),null,e)}function Fr(n,e,t){return An.apply(this,arguments)}function An(){return(An=(0,a.Z)(function*(n,e,t){const{auth:r}=n,s={idToken:yield n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);const l=yield O(n,br(r,s));yield n._updateTokensIfNecessary(l,!0)})).apply(this,arguments)}class Se{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}}class Zr extends Se{constructor(e,t,r,i){super(e,t,r),this.username=i}}class hs extends Se{constructor(e,t){super(e,"facebook.com",t)}}class fs extends Zr{constructor(e,t){super(e,"github.com",t,"string"==typeof t?.login?t?.login:null)}}class ps extends Se{constructor(e,t){super(e,"google.com",t)}}class ms extends Zr{constructor(e,t,r){super(e,"twitter.com",t,r)}}function _s(n){const{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:function ds(n){var e,t;if(!n)return null;const{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||"identitytoolkit#SignupNewUserResponse"===n.kind;if(!r&&n?.idToken){const l=null===(t=null===(e=he(n.idToken))||void 0===e?void 0:e.firebase)||void 0===t?void 0:t.sign_in_provider;if(l)return new Se(s,"anonymous"!==l&&"custom"!==l?l:null)}if(!r)return null;switch(r){case"facebook.com":return new hs(s,i);case"github.com":return new fs(s,i);case"google.com":return new ps(s,i);case"twitter.com":return new ms(s,i,n.screenName||null);case"custom":case"anonymous":return new Se(s,null);default:return new Se(s,r,i)}}(t)}class ge{constructor(e,t,r){this.type=e,this.credential=t,this.auth=r}static _fromIdtoken(e,t){return new ge("enroll",e,t)}static _fromMfaPendingCredential(e){return new ge("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e?.multiFactorSession){if(null!==(t=e.multiFactorSession)&&void 0!==t&&t.pendingCredential)return ge._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null!==(r=e.multiFactorSession)&&void 0!==r&&r.idToken)return ge._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Sn{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){const r=x(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(f=>ct._fromServerResponse(r,f));m(i.mfaPendingCredential,r,"internal-error");const l=ge._fromMfaPendingCredential(i.mfaPendingCredential);return new Sn(l,s,function(){var f=(0,a.Z)(function*(g){const v=yield g._process(r,l);delete i.mfaInfo,delete i.mfaPendingCredential;const y=Object.assign(Object.assign({},i),{idToken:v.idToken,refreshToken:v.refreshToken});switch(t.operationType){case"signIn":const A=yield z._fromIdTokenResponse(r,t.operationType,y);return yield r._updateCurrentUser(A.user),A;case"reauthenticate":return m(t.user,r,"internal-error"),z._forOperation(t.user,t.operationType,y);default:C(r,"internal-error")}});return function(g){return f.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,a.Z)(function*(){return t.signInResolver(e)})()}}function Is(n,e){var t;const r=(0,p.m9)(n),i=e;return m(e.customData.operationType,r,"argument-error"),m(null===(t=i.customData._serverResponse)||void 0===t?void 0:t.mfaPendingCredential,r,"argument-error"),Sn._fromError(r,i)}class bn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>ct._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new bn(e)}getSession(){var e=this;return(0,a.Z)(function*(){return ge._fromIdtoken(yield e.user.getIdToken(),e.user.auth)})()}enroll(e,t){var r=this;return(0,a.Z)(function*(){const i=e,s=yield r.getSession(),l=yield O(r.user,i._process(r.user.auth,s,t));return yield r.user._updateTokensIfNecessary(l),r.user.reload()})()}unenroll(e){var t=this;return(0,a.Z)(function*(){const r="string"==typeof e?e:e.uid,i=yield t.user.getIdToken();try{const s=yield O(t.user,function Ts(n,e){return b(n,"POST","/v2/accounts/mfaEnrollment:withdraw",k(n,e))}(t.user.auth,{idToken:i,mfaEnrollmentId:r}));t.enrolledFactors=t.enrolledFactors.filter(({uid:l})=>l!==r),yield t.user._updateTokensIfNecessary(s),yield t.user.reload()}catch(s){throw s}})()}}const Nn=new WeakMap;function Rs(n){const e=(0,p.m9)(n);return Nn.has(e)||Nn.set(e,bn._fromUser(e)),Nn.get(e)}const ht="__sak";class Vr{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ht,"1"),this.storage.removeItem(ht),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Wr=(()=>{class n extends Vr{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function ks(){const n=(0,p.z$)();return o(n)||P(n)}()&&function it(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=q(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((f,g,v)=>{this.notifyListeners(f,v)});const i=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const f=this.storage.getItem(i);if(t.newValue!==f)null!==t.newValue?this.storage.setItem(i,t.newValue):this.storage.removeItem(i);else if(this.localCache[i]===t.newValue&&!r)return}const s=()=>{const f=this.storage.getItem(i);!r&&this.localCache[i]===f||this.notifyListeners(i,f)},l=this.storage.getItem(i);!function T(){return(0,p.w1)()&&10===document.documentMode}()||l===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return(0,a.Z)(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return(0,a.Z)(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return(0,a.Z)(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),On=(()=>{class n extends Vr{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let bs=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return(0,a.Z)(function*(){const i=t,{eventId:s,eventType:l,data:f}=i.data,g=r.handlersMap[l];if(!g?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const v=Array.from(g).map(function(){var A=(0,a.Z)(function*(j){return j(i.origin,f)});return function(j){return A.apply(this,arguments)}}()),y=yield function Ss(n){return Promise.all(n.map(function(){var e=(0,a.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(v);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:y})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function qe(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class Ns{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return(0,a.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let l,f;return new Promise((g,v)=>{const y=qe("",20);s.port1.start();const A=setTimeout(()=>{v(new Error("unsupported_event"))},r);f={messageChannel:s,onMessage(j){const le=j;if(le.data.eventId===y)switch(le.data.status){case"ack":clearTimeout(A),l=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),g(le.data.response);break;default:clearTimeout(A),clearTimeout(l),v(new Error("invalid_response"))}}},i.handlers.add(f),s.port1.addEventListener("message",f.onMessage),i.target.postMessage({eventType:e,eventId:y,data:t},[s.port2])}).finally(()=>{f&&i.removeMessageHandler(f)})})()}}function N(){return window}function wn(){return typeof N().WorkerGlobalScope<"u"&&"function"==typeof N().importScripts}function Cn(){return(Cn=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const zr="firebaseLocalStorageDb",ft="firebaseLocalStorage",Hr="fbase_key";class $e{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function pt(n,e){return n.transaction([ft],e?"readwrite":"readonly").objectStore(ft)}function Ln(){const n=indexedDB.open(zr,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(ft,{keyPath:Hr})}catch(i){t(i)}}),n.addEventListener("success",(0,a.Z)(function*(){const r=n.result;r.objectStoreNames.contains(ft)?e(r):(r.close(),yield function xs(){const n=indexedDB.deleteDatabase(zr);return new $e(n).toPromise()}(),e(yield Ln()))}))})}function Gr(n,e,t){return Dn.apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(n,e,t){const r=pt(n,!0).put({[Hr]:e,value:t});return new $e(r).toPromise()})).apply(this,arguments)}function xn(){return(xn=(0,a.Z)(function*(n,e){const t=pt(n,!1).get(e),r=yield new $e(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Br(n,e){const t=pt(n,!0).delete(e);return new $e(t).toPromise()}const qr=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,a.Z)(function*(){return t.db||(t.db=yield Ln()),t.db})()}_withRetries(t){var r=this;return(0,a.Z)(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,a.Z)(function*(){return wn()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,a.Z)(function*(){t.receiver=bs._getInstance(function Ls(){return wn()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=(0,a.Z)(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=(0,a.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,a.Z)(function*(){var r,i;if(t.activeServiceWorker=yield function ws(){return Cn.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Ns(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return(0,a.Z)(function*(){if(r.sender&&r.activeServiceWorker&&function Cs(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const t=yield Ln();return yield Gr(t,ht,"1"),yield Br(t,ht),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return(0,a.Z)(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return(0,a.Z)(function*(){return i._withPendingWrite((0,a.Z)(function*(){return yield i._withRetries(s=>Gr(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return(0,a.Z)(function*(){const i=yield r._withRetries(s=>function Ms(n,e){return xn.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return(0,a.Z)(function*(){return r._withPendingWrite((0,a.Z)(function*(){return yield r._withRetries(i=>Br(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,a.Z)(function*(){const r=yield t._withRetries(l=>{const f=pt(l,!1).getAll();return new $e(f).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:l,value:f}of r)s.add(l),JSON.stringify(t.localCache[l])!==JSON.stringify(f)&&(t.notifyListeners(l,f),i.push(l));for(const l of Object.keys(t.localCache))t.localCache[l]&&!s.has(l)&&(t.notifyListeners(l,null),i.push(l));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Mn(){return(Mn=(0,a.Z)(function*(n){return(yield b(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function $r(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=D("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function zs(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})}function Kr(n){return`__${n}${Math.floor(1e6*Math.random())}`}const mt=1e12;class Bs{constructor(e){this.auth=e,this.counter=mt,this._widgets=new Map}render(e,t){const r=this.counter;return this._widgets.set(r,new qs(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;const r=e||mt;null===(t=this._widgets.get(r))||void 0===t||t.delete(),this._widgets.delete(r)}getResponse(e){var t;return(null===(t=this._widgets.get(e||mt))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,a.Z)(function*(){var r;return null===(r=t._widgets.get(e||mt))||void 0===r||r.execute(),""})()}}class qs{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof e?document.getElementById(e):e;m(i,"argument-error",{appName:t}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function $s(n){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(62*Math.random())));return e.join("")}(50);const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Un=Kr("rcb"),Ks=new ie(3e4,6e4);class Js{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(e=N().grecaptcha)||void 0===e||!e.render)}load(e,t=""){return m(function Ys(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(N().grecaptcha):new Promise((r,i)=>{const s=N().setTimeout(()=>{i(D(e,"network-request-failed"))},Ks.get());N()[Un]=()=>{N().clearTimeout(s),delete N()[Un];const f=N().grecaptcha;if(!f)return void i(D(e,"internal-error"));const g=f.render;f.render=(v,y)=>{const A=g(v,y);return this.counter++,A},this.hostLanguage=t,r(f)},$r(`https://www.google.com/recaptcha/api.js??${(0,p.xO)({onload:Un,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(s),i(D(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!(null===(t=N().grecaptcha)||void 0===t||!t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Xs{load(e){return(0,a.Z)(function*(){return new Bs(e)})()}clearedOneInstance(){}}const jr="recaptcha",Qs={theme:"light",type:"image"};class eo{constructor(e,t=Object.assign({},Qs),r){this.parameters=t,this.type=jr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=x(r),this.isInvisible="invisible"===this.parameters.size,m(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;m(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Xs:new Js,this.validateStartingState()}verify(){var e=this;return(0,a.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),r=e.getAssertedRecaptcha();return r.getResponse(t)||new Promise(s=>{const l=f=>{f&&(e.tokenChangeListeners.delete(l),s(f))};e.tokenChangeListeners.add(l),e.isInvisible&&r.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){m(!this.parameters.sitekey,this.auth,"argument-error"),m(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),m(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),"function"==typeof e)e(t);else if("string"==typeof e){const r=N()[e];"function"==typeof r&&r(t)}}}assertNotDestroyed(){m(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,a.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const r=document.createElement("div");t.appendChild(r),t=r}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,a.Z)(function*(){m(re()&&!wn(),e.auth,"internal-error"),yield function to(){let n=null;return new Promise(e=>{"complete"!==document.readyState?(n=()=>e(),window.addEventListener("load",n)):e()}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function Ws(n){return Mn.apply(this,arguments)}(e.auth);m(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return m(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Fn{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=_e._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function no(n,e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,a.Z)(function*(n,e,t){const r=x(n),i=yield _t(r,e,(0,p.m9)(t));return new Fn(i,s=>lt(r,s))})).apply(this,arguments)}function ro(n,e,t){return Vn.apply(this,arguments)}function Vn(){return(Vn=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n);yield ut(!1,r,"phone");const i=yield _t(r.auth,e,(0,p.m9)(t));return new Fn(i,s=>xr(r,s))})).apply(this,arguments)}function io(n,e,t){return Wn.apply(this,arguments)}function Wn(){return(Wn=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n),i=yield _t(r.auth,e,(0,p.m9)(t));return new Fn(i,s=>Mr(r,s))})).apply(this,arguments)}function _t(n,e,t){return zn.apply(this,arguments)}function zn(){return zn=(0,a.Z)(function*(n,e,t){var r;const i=yield t.verify();try{let s;if(m("string"==typeof i,n,"argument-error"),m(t.type===jr,n,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const l=s.session;if("phoneNumber"in s)return m("enroll"===l.type,n,"internal-error"),(yield function ys(n,e){return b(n,"POST","/v2/accounts/mfaEnrollment:start",k(n,e))}(n,{idToken:l.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{m("signin"===l.type,n,"internal-error");const f=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return m(f,n,"missing-multi-factor-info"),(yield function Zs(n,e){return b(n,"POST","/v2/accounts/mfaSignIn:start",k(n,e))}(n,{mfaPendingCredential:l.credential,mfaEnrollmentId:f,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:l}=yield function wi(n,e){return Bt.apply(this,arguments)}(n,{phoneNumber:s.phoneNumber,recaptchaToken:i});return l}}finally{t._reset()}}),zn.apply(this,arguments)}function so(n,e){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,a.Z)(function*(n,e){yield Qt((0,p.m9)(n),e)})).apply(this,arguments)}let oo=(()=>{class n{constructor(t){this.providerId=n.PROVIDER_ID,this.auth=x(t)}verifyPhoneNumber(t,r){return _t(this.auth,t,(0,p.m9)(r))}static credential(t,r){return _e._fromVerification(t,r)}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:r,temporaryProof:i}=t;return r&&i?_e._fromTokenResponse(r,i):null}}return n.PROVIDER_ID="phone",n.PHONE_SIGN_IN_METHOD="phone",n})();function ve(n,e){return e?F(e):(m(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class Gn extends ke{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Q(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Q(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Q(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ao(n){return Dr(n.auth,new Gn(n),n.bypassAuthState)}function uo(n){const{auth:e,user:t}=n;return m(t,e,"internal-error"),Lr(t,new Gn(n),n.bypassAuthState)}function lo(n){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,a.Z)(function*(n){const{auth:e,user:t}=n;return m(t,e,"internal-error"),Qt(t,new Gn(n),n.bypassAuthState)})).apply(this,arguments)}class Jr{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,a.Z)(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,a.Z)(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:l,error:f,type:g}=e;if(f)return void t.reject(f);const v={auth:t.auth,requestUri:r,sessionId:i,tenantId:l||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(g)(v))}catch(y){t.reject(y)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ao;case"linkViaPopup":case"linkViaRedirect":return lo;case"reauthViaPopup":case"reauthViaRedirect":return uo;default:C(this.auth,"internal-error")}}resolve(e){V(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){V(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const co=new ie(2e3,1e4);function ho(n,e,t){return qn.apply(this,arguments)}function qn(){return(qn=(0,a.Z)(function*(n,e,t){const r=x(n);ne(n,e,ee);const i=ve(r,t);return new jn(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function fo(n,e,t){return $n.apply(this,arguments)}function $n(){return($n=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n);ne(r.auth,e,ee);const i=ve(r.auth,t);return new jn(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function po(n,e,t){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n);ne(r.auth,e,ee);const i=ve(r.auth,t);return new jn(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let jn=(()=>{class n extends Jr{constructor(t,r,i,s,l){super(t,r,s,l),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return(0,a.Z)(function*(){const r=yield t.execute();return m(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return(0,a.Z)(function*(){V(1===t.filter.length,"Popup operations only handle one event");const r=qe();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(D(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(D(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(D(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,co.get())};t()}}return n.currentPopupAction=null,n})();const mo="pendingRedirect",Ke=new Map;class _o extends Jr{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,a.Z)(function*(){let r=Ke.get(t.auth._key());if(!r){try{const s=(yield function go(n,e){return Jn.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Ke.set(t.auth._key(),r)}return t.bypassAuthState||Ke.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return(0,a.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Jn(){return(Jn=(0,a.Z)(function*(n,e){const t=Qr(e),r=Xr(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function Yn(n,e){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,a.Z)(function*(n,e){return Xr(n)._set(Qr(e),"true")})).apply(this,arguments)}function vo(){Ke.clear()}function Yr(n,e){Ke.set(n._key(),e)}function Xr(n){return F(n._redirectPersistence)}function Qr(n){return me(mo,n.config.apiKey,n.name)}function Io(n,e,t){return function yo(n,e,t){return Qn.apply(this,arguments)}(n,e,t)}function Qn(){return(Qn=(0,a.Z)(function*(n,e,t){const r=x(n);ne(n,e,ee),yield r._initializationPromise;const i=ve(r,t);return yield Yn(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function Eo(n,e,t){return function To(n,e,t){return er.apply(this,arguments)}(n,e,t)}function er(){return(er=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n);ne(r.auth,e,ee),yield r.auth._initializationPromise;const i=ve(r.auth,t);yield Yn(i,r.auth);const s=yield ei(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)})).apply(this,arguments)}function Ro(n,e,t){return function ko(n,e,t){return tr.apply(this,arguments)}(n,e,t)}function tr(){return(tr=(0,a.Z)(function*(n,e,t){const r=(0,p.m9)(n);ne(r.auth,e,ee),yield r.auth._initializationPromise;const i=ve(r.auth,t);yield ut(!1,r,e.providerId),yield Yn(i,r.auth);const s=yield ei(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)})).apply(this,arguments)}function Ao(n,e){return nr.apply(this,arguments)}function nr(){return(nr=(0,a.Z)(function*(n,e){return yield x(n)._initializationPromise,rr(n,e,!1)})).apply(this,arguments)}function rr(n,e){return ir.apply(this,arguments)}function ir(){return(ir=(0,a.Z)(function*(n,e,t=!1){const r=x(n),i=ve(r,e),l=yield new _o(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,yield r._persistUserIfCurrent(l.user),yield r._setRedirectUser(null,e)),l})).apply(this,arguments)}function ei(n){return sr.apply(this,arguments)}function sr(){return(sr=(0,a.Z)(function*(n){const e=qe(`${n.uid}:::`);return n._redirectEventId=e,yield n.auth._setRedirectUser(n),yield n.auth._persistUserIfCurrent(n),e})).apply(this,arguments)}class ti{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function So(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ri(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!ri(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(D(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ni(e))}saveEventToCache(e){this.cachedEventUids.add(ni(e)),this.lastProcessedEventTime=Date.now()}}function ni(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function ri({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function ii(n){return or.apply(this,arguments)}function or(){return(or=(0,a.Z)(function*(n,e={}){return b(n,"GET","/v1/projects",e)})).apply(this,arguments)}const bo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,No=/^https?/;function ar(){return(ar=(0,a.Z)(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield ii(n);for(const t of e)try{if(wo(t))return}catch{}C(n,"unauthorized-domain")})).apply(this,arguments)}function wo(n){const e=ce(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return""===l.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&l.hostname===r}if(!No.test(t))return!1;if(bo.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Co=new ie(3e4,6e4);function si(){const n=N().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let gt=null;const xo=new ie(5e3,15e3),Mo="__/auth/iframe",Uo="emulator/auth/iframe",Fo={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Zo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vo(n){const e=n.config;m(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?we(e,Uo):`https://${n.config.authDomain}/${Mo}`,r={apiKey:e.apiKey,appName:n.name,v:c.SDK_VERSION},i=Zo.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${(0,p.xO)(r).slice(1)}`}function ur(){return ur=(0,a.Z)(function*(n){const e=yield function Do(n){return gt=gt||function Lo(n){return new Promise((e,t)=>{var r,i,s;function l(){si(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{si(),t(D(n,"network-request-failed"))},timeout:Co.get()})}if(null!==(i=null===(r=N().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=N().gapi)||void 0===s||!s.load){const f=Kr("iframefcb");return N()[f]=()=>{gapi.load?l():t(D(n,"network-request-failed"))},$r(`https://apis.google.com/js/api.js?onload=${f}`).catch(g=>t(g))}l()}}).catch(e=>{throw gt=null,e})}(n),gt}(n),t=N().gapi;return m(t,n,"internal-error"),e.open({where:document.body,url:Vo(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Fo,dontclear:!0},r=>new Promise(function(){var i=(0,a.Z)(function*(s,l){yield r.restyle({setHideOnLeave:!1});const f=D(n,"network-request-failed"),g=N().setTimeout(()=>{l(f)},xo.get());function v(){N().clearTimeout(g),s(r)}r.ping(v).then(v,()=>{l(f)})});return function(s,l){return i.apply(this,arguments)}}()))}),ur.apply(this,arguments)}const zo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const jo="__/auth/handler",Jo="emulator/auth/handler";function lr(n,e,t,r,i,s){m(n.config.authDomain,n,"auth-domain-config-required"),m(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:c.SDK_VERSION,eventId:i};if(e instanceof ee){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",(0,p.xb)(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,v]of Object.entries(s||{}))l[g]=v}if(e instanceof Ae){const g=e.getScopes().filter(v=>""!==v);g.length>0&&(l.scopes=g.join(","))}n.tenantId&&(l.tid=n.tenantId);const f=l;for(const g of Object.keys(f))void 0===f[g]&&delete f[g];return`${function Yo({config:n}){return n.emulator?we(n,Jo):`https://${n.authDomain}/${jo}`}(n)}?${(0,p.xO)(f).slice(1)}`}const cr="webStorageSupport",ai=class Xo{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=On,this._completeRedirectFn=rr,this._overrideRedirectResult=Yr}_openPopup(e,t,r,i){var s=this;return(0,a.Z)(function*(){var l;V(null===(l=s.eventManagers[e._key()])||void 0===l?void 0:l.manager,"_initialize() not called before _openPopup()");const f=lr(e,t,r,ce(),i);return function $o(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let f="";const g=Object.assign(Object.assign({},zo),{width:r.toString(),height:i.toString(),top:s,left:l}),v=(0,p.z$)().toLowerCase();t&&(f=h(v)?"_blank":t),u(v)&&(e=e||"http://localhost",g.scrollbars="yes");const y=Object.entries(g).reduce((j,[le,vt])=>`${j}${le}=${vt},`,"");if(function W(n=(0,p.z$)()){var e;return P(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(v)&&"_self"!==f)return function Ko(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",f),new oi(null);const A=window.open(e||"",f,y);m(A,n,"popup-blocked");try{A.focus()}catch{}return new oi(A)}(e,f,qe())})()}_openRedirect(e,t,r,i){var s=this;return(0,a.Z)(function*(){return yield s._originValidation(e),function Os(n){N().location.href=n}(lr(e,t,r,ce(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(V(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return(0,a.Z)(function*(){const r=yield function Wo(n){return ur.apply(this,arguments)}(e),i=new ti(e);return r.register("authEvent",s=>(m(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(cr,{type:cr},i=>{var s;const l=null===(s=i?.[0])||void 0===s?void 0:s[cr];void 0!==l&&t(!!l),C(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function Oo(n){return ar.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return q()||o()||P()}};class Qo{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return U("unexpected MultiFactorSessionType")}}}class dr extends Qo{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new dr(e)}_finalizeEnroll(e,t,r){return function Es(n,e){return b(n,"POST","/v2/accounts/mfaEnrollment:finalize",k(n,e))}(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function Vs(n,e){return b(n,"POST","/v2/accounts/mfaSignIn:finalize",k(n,e))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let ea=(()=>{class n{constructor(){}static assertion(t){return dr._fromCredential(t)}}return n.FACTOR_ID="phone",n})();var ui="@firebase/auth";class ta{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,a.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){m(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const sa=(0,p.Pz)("authIdTokenMaxAge")||300;let ci=null;const oa=n=>function(){var e=(0,a.Z)(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>sa)return;const s=r?.token;ci!==s&&(ci=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function aa(n=(0,c.getApp)()){const e=(0,c._getProvider)(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function Oe(n,e){const t=(0,c._getProvider)(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if((0,p.vZ)(s,e??{}))return i;C(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:ai,persistence:[qr,Wr,On]}),r=(0,p.Pz)("authTokenSyncURL");if(r){const s=oa(r);(function vs(n,e,t){(0,p.m9)(n).beforeAuthStateChanged(e,t)})(t,s,()=>s(t.currentUser)),function gs(n,e,t,r){(0,p.m9)(n).onIdTokenChanged(e,t,r)}(t,l=>s(l))}const i=(0,p.q4)("auth");return i&&kr(t,`http://${i}`),t}!function ra(n){(0,c._registerComponent)(new yt.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:l}=r.options;return((f,g)=>{m(s&&!s.includes(":"),"invalid-api-key",{appName:f.name}),m(!l?.includes(":"),"argument-error",{appName:f.name});const v={apiKey:s,authDomain:l,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Tr(n)},y=new Ii(f,g,v);return function kt(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(F);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(y,t),y})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,c._registerComponent)(new yt.wA("auth-internal",e=>{const t=x(e.getProvider("auth").getImmediate());return new ta(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,c.registerVersion)(ui,"0.21.4",function na(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,c.registerVersion)(ui,"0.21.4","esm2017")}("Browser")},6365:(gi,It,L)=>{L.r(It);var a=L(5861),p=L(3106),c=L(1623),S=L(9058),_r=(L(4303),L(7879),L(4537));function J(){return window}function be(){return be=(0,a.Z)(function*(d,u,o){var h;const{BuildInfo:_}=J();(0,c.ap)(u.sessionId,"AuthEvent did not contain a session ID");const I=yield function Je(d){return te.apply(this,arguments)}(u.sessionId),E={};return(0,c.aq)()?E.ibi=_.packageName:(0,c.ar)()?E.apn=_.packageName:(0,c.as)(d,"operation-not-supported-in-this-environment"),_.displayName&&(E.appDisplayName=_.displayName),E.sessionId=I,(0,c.at)(d,o,u.type,void 0,null!==(h=u.eventId)&&void 0!==h?h:void 0,E)}),be.apply(this,arguments)}function Ie(){return(Ie=(0,a.Z)(function*(d){const{BuildInfo:u}=J(),o={};(0,c.aq)()?o.iosBundleId=u.packageName:(0,c.ar)()?o.androidPackageName=u.packageName:(0,c.as)(d,"operation-not-supported-in-this-environment"),yield(0,c.au)(d,o)})).apply(this,arguments)}function ye(){return(ye=(0,a.Z)(function*(d,u,o){const{cordova:h}=J();let _=()=>{};try{yield new Promise((I,E)=>{let R=null;function P(){var T;I();const q=null===(T=h.plugins.browsertab)||void 0===T?void 0:T.close;"function"==typeof q&&q(),"function"==typeof o?.close&&o.close()}function Z(){R||(R=window.setTimeout(()=>{E((0,c.aw)(d,"redirect-cancelled-by-user"))},2e3))}function W(){"visible"===document?.visibilityState&&Z()}u.addPassiveListener(P),document.addEventListener("resume",Z,!1),(0,c.ar)()&&document.addEventListener("visibilitychange",W,!1),_=()=>{u.removePassiveListener(P),document.removeEventListener("resume",Z,!1),document.removeEventListener("visibilitychange",W,!1),R&&window.clearTimeout(R)}})}finally{_()}})).apply(this,arguments)}function te(){return(te=(0,a.Z)(function*(d){const u=function C(d){if((0,c.ap)(/[0-9a-zA-Z]+/.test(d),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(d);const u=new ArrayBuffer(d.length),o=new Uint8Array(u);for(let h=0;h<d.length;h++)o[h]=d.charCodeAt(h);return o}(d),o=yield crypto.subtle.digest("SHA-256",u);return Array.from(new Uint8Array(o)).map(_=>_.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}class Ye extends c.ay{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(u=>{this.resolveInialized=u})}addPassiveListener(u){this.passiveListeners.add(u)}removePassiveListener(u){this.passiveListeners.delete(u)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(u){return this.resolveInialized(),this.passiveListeners.forEach(o=>o(u)),super.onEvent(u)}initialized(){var u=this;return(0,a.Z)(function*(){yield u.initPromise})()}}function m(d){return U.apply(this,arguments)}function U(){return(U=(0,a.Z)(function*(d){const u=yield F()._get(Oe(d));return u&&(yield F()._remove(Oe(d))),u})).apply(this,arguments)}function Xe(){const d=[];for(let o=0;o<20;o++){const h=Math.floor(62*Math.random());d.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(h))}return d.join("")}function F(){return(0,c.az)(c.b)}function Oe(d){return(0,c.aA)("authEvent",d.config.apiKey,d.name)}function re(d){if(!d?.includes("?"))return{};const[u,...o]=d.split("?");return(0,S.zd)(o.join("?"))}const Pt=class At{constructor(){this._redirectPersistence=c.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=c.aB,this._overrideRedirectResult=c.aC}_initialize(u){var o=this;return(0,a.Z)(function*(){const h=u._key();let _=o.eventManagers.get(h);return _||(_=new Ye(u),o.eventManagers.set(h,_),o.attachCallbackListeners(u,_)),_})()}_openPopup(u){(0,c.as)(u,"operation-not-supported-in-this-environment")}_openRedirect(u,o,h,_){var I=this;return(0,a.Z)(function*(){!function Ir(d){var u,o,h,_,I,E,R,P,Z,W;const T=J();(0,c.ax)("function"==typeof(null===(u=T?.universalLinks)||void 0===u?void 0:u.subscribe),d,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,c.ax)(typeof(null===(o=T?.BuildInfo)||void 0===o?void 0:o.packageName)<"u",d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,c.ax)("function"==typeof(null===(I=null===(_=null===(h=T?.cordova)||void 0===h?void 0:h.plugins)||void 0===_?void 0:_.browsertab)||void 0===I?void 0:I.openUrl),d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,c.ax)("function"==typeof(null===(P=null===(R=null===(E=T?.cordova)||void 0===E?void 0:E.plugins)||void 0===R?void 0:R.browsertab)||void 0===P?void 0:P.isAvailable),d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,c.ax)("function"==typeof(null===(W=null===(Z=T?.cordova)||void 0===Z?void 0:Z.InAppBrowser)||void 0===W?void 0:W.open),d,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(u);const E=yield I._initialize(u);yield E.initialized(),E.resetRedirect(),(0,c.aD)(),yield I._originValidation(u);const R=function ne(d,u,o=null){return{type:u,eventId:o,urlResponse:null,sessionId:Xe(),postBody:null,tenantId:d.tenantId,error:(0,c.aw)(d,"no-auth-event")}}(u,h,_);yield function Ne(d,u){return F()._set(Oe(d),u)}(u,R);const P=yield function vr(d,u,o){return be.apply(this,arguments)}(u,R,o),Z=yield function Tt(d){const{cordova:u}=J();return new Promise(o=>{u.plugins.browsertab.isAvailable(h=>{let _=null;h?u.plugins.browsertab.openUrl(d):_=u.InAppBrowser.open(d,(0,c.av)()?"_blank":"_system","location=yes"),o(_)})})}(P);return function Rt(d,u,o){return ye.apply(this,arguments)}(u,E,Z)})()}_isIframeWebStorageSupported(u,o){throw new Error("Method not implemented.")}_originValidation(u){const o=u._key();return this.originValidationPromises[o]||(this.originValidationPromises[o]=function Et(d){return Ie.apply(this,arguments)}(u)),this.originValidationPromises[o]}attachCallbackListeners(u,o){const{universalLinks:h,handleOpenURL:_,BuildInfo:I}=J(),E=setTimeout((0,a.Z)(function*(){yield m(u),o.onEvent(ie())}),500),R=function(){var W=(0,a.Z)(function*(T){clearTimeout(E);const q=yield m(u);let it=null;q&&T?.url&&(it=function V(d,u){var o,h;const _=function ce(d){const u=re(d),o=u.link?decodeURIComponent(u.link):void 0,h=re(o).link,_=u.deep_link_id?decodeURIComponent(u.deep_link_id):void 0;return re(_).link||_||h||o||d}(u);if(_.includes("/__/auth/callback")){const I=re(_),E=I.firebaseError?function kt(d){try{return JSON.parse(d)}catch{return null}}(decodeURIComponent(I.firebaseError)):null,R=null===(h=null===(o=E?.code)||void 0===o?void 0:o.split("auth/"))||void 0===h?void 0:h[1],P=R?(0,c.aw)(R):null;return P?{type:d.type,eventId:d.eventId,tenantId:d.tenantId,error:P,urlResponse:null,sessionId:null,postBody:null}:{type:d.type,eventId:d.eventId,tenantId:d.tenantId,sessionId:d.sessionId,urlResponse:_,postBody:null}}return null}(q,T.url)),o.onEvent(it||ie())});return function(q){return W.apply(this,arguments)}}();typeof h<"u"&&"function"==typeof h.subscribe&&h.subscribe(null,R);const P=_,Z=`${I.packageName.toLowerCase()}://`;J().handleOpenURL=function(){var W=(0,a.Z)(function*(T){if(T.toLowerCase().startsWith(Z)&&R({url:T}),"function"==typeof P)try{P(T)}catch(q){console.error(q)}});return function(T){return W.apply(this,arguments)}}()}};function ie(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,c.aw)("no-auth-event")}}function k(){var d;return(null===(d=self?.location)||void 0===d?void 0:d.protocol)||null}function Ee(d=(0,S.z$)()){return!("file:"!==k()&&"ionic:"!==k()&&"capacitor:"!==k()||!d.toLowerCase().match(/iphone|ipad|ipod|android/))}function De(){try{const d=self.localStorage,u=c.aI();if(d)return d.setItem(u,"1"),d.removeItem(u),!function Le(d=(0,S.z$)()){return function Ce(){return(0,S.w1)()&&11===document?.documentMode}()||function H(d=(0,S.z$)()){return/Edge\/\d+/.test(d)}(d)}()||(0,S.hl)()}catch{return xe()&&(0,S.hl)()}return!1}function xe(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function Y(){return(function b(){return"http:"===k()||"https:"===k()}()||(0,S.ru)()||Ee())&&!function tt(){return(0,S.b$)()||(0,S.UG)()}()&&De()&&!xe()}function nt(){return Ee()&&typeof document<"u"}function Ue(){return(Ue=(0,a.Z)(function*(){return!!nt()&&new Promise(d=>{const u=setTimeout(()=>{d(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(u),d(!0)})})})).apply(this,arguments)}const M={LOCAL:"local",NONE:"none",SESSION:"session"},X=c.ax,se="persistence";function Ze(d){return de.apply(this,arguments)}function de(){return(de=(0,a.Z)(function*(d){yield d._initializationPromise;const u=he(),o=c.aA(se,d.config.apiKey,d.name);u&&u.setItem(o,d._getPersistence())})).apply(this,arguments)}function he(){var d;try{return(null===(d=function Fe(){return typeof window<"u"?window:null}())||void 0===d?void 0:d.sessionStorage)||null}catch{return null}}const Nt=c.ax;class O{constructor(){this.browserResolver=c.az(c.k),this.cordovaResolver=c.az(Pt),this.underlyingResolver=null,this._redirectPersistence=c.a,this._completeRedirectFn=c.aB,this._overrideRedirectResult=c.aC}_initialize(u){var o=this;return(0,a.Z)(function*(){return yield o.selectUnderlyingResolver(),o.assertedUnderlyingResolver._initialize(u)})()}_openPopup(u,o,h,_){var I=this;return(0,a.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openPopup(u,o,h,_)})()}_openRedirect(u,o,h,_){var I=this;return(0,a.Z)(function*(){return yield I.selectUnderlyingResolver(),I.assertedUnderlyingResolver._openRedirect(u,o,h,_)})()}_isIframeWebStorageSupported(u,o){this.assertedUnderlyingResolver._isIframeWebStorageSupported(u,o)}_originValidation(u){return this.assertedUnderlyingResolver._originValidation(u)}get _shouldInitProactively(){return nt()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Nt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var u=this;return(0,a.Z)(function*(){if(u.underlyingResolver)return;const o=yield function Me(){return Ue.apply(this,arguments)}();u.underlyingResolver=o?u.cordovaResolver:u.browserResolver})()}}function Te(d){return d.unwrap()}function wt(d){return oe(d)}function oe(d){const{_tokenResponse:u}=d instanceof S.ZR?d.customData:d;if(!u)return null;if(!(d instanceof S.ZR)&&"temporaryProof"in u&&"phoneNumber"in u)return c.P.credentialFromResult(d);const o=u.providerId;if(!o||o===c.o.PASSWORD)return null;let h;switch(o){case c.o.GOOGLE:h=c.Q;break;case c.o.FACEBOOK:h=c.N;break;case c.o.GITHUB:h=c.T;break;case c.o.TWITTER:h=c.W;break;default:const{oauthIdToken:_,oauthAccessToken:I,oauthTokenSecret:E,pendingToken:R,nonce:P}=u;return I||E||_||R?R?o.startsWith("saml.")?c.aL._create(o,R):c.J._fromParams({providerId:o,signInMethod:o,pendingToken:R,idToken:_,accessToken:I}):new c.U(o).credential({idToken:_,accessToken:I,rawNonce:P}):null}return d instanceof S.ZR?h.credentialFromError(d):h.credentialFromResult(d)}function w(d,u){return u.catch(o=>{throw o instanceof S.ZR&&function rt(d,u){var o;const h=null===(o=u.customData)||void 0===o?void 0:o._tokenResponse;if("auth/multi-factor-auth-required"===u?.code)u.resolver=new Ct(d,c.an(d,u));else if(h){const _=oe(u),I=u;_&&(I.credential=_,I.tenantId=h.tenantId||void 0,I.email=h.email||void 0,I.phoneNumber=h.phoneNumber||void 0)}}(d,o),o}).then(o=>{const _=o.user;return{operationType:o.operationType,credential:wt(o),additionalUserInfo:c.al(o),user:G.getOrCreate(_)}})}function We(d,u){return fe.apply(this,arguments)}function fe(){return(fe=(0,a.Z)(function*(d,u){const o=yield u;return{verificationId:o.verificationId,confirm:h=>w(d,o.confirm(h))}})).apply(this,arguments)}class Ct{constructor(u,o){this.resolver=o,this.auth=function Ot(d){return d.wrapped()}(u)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(u){return w(Te(this.auth),this.resolver.resolveSignIn(u))}}class G{constructor(u){this._delegate=u,this.multiFactor=c.ao(u)}static getOrCreate(u){return G.USER_MAP.has(u)||G.USER_MAP.set(u,new G(u)),G.USER_MAP.get(u)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(u){return this._delegate.getIdTokenResult(u)}getIdToken(u){return this._delegate.getIdToken(u)}linkAndRetrieveDataWithCredential(u){return this.linkWithCredential(u)}linkWithCredential(u){var o=this;return(0,a.Z)(function*(){return w(o.auth,c.Z(o._delegate,u))})()}linkWithPhoneNumber(u,o){var h=this;return(0,a.Z)(function*(){return We(h.auth,c.l(h._delegate,u,o))})()}linkWithPopup(u){var o=this;return(0,a.Z)(function*(){return w(o.auth,c.d(o._delegate,u,O))})()}linkWithRedirect(u){var o=this;return(0,a.Z)(function*(){return yield Ze(c.aE(o.auth)),c.g(o._delegate,u,O)})()}reauthenticateAndRetrieveDataWithCredential(u){return this.reauthenticateWithCredential(u)}reauthenticateWithCredential(u){var o=this;return(0,a.Z)(function*(){return w(o.auth,c._(o._delegate,u))})()}reauthenticateWithPhoneNumber(u,o){return We(this.auth,c.r(this._delegate,u,o))}reauthenticateWithPopup(u){return w(this.auth,c.e(this._delegate,u,O))}reauthenticateWithRedirect(u){var o=this;return(0,a.Z)(function*(){return yield Ze(c.aE(o.auth)),c.h(o._delegate,u,O)})()}sendEmailVerification(u){return c.ab(this._delegate,u)}unlink(u){var o=this;return(0,a.Z)(function*(){return yield c.ak(o._delegate,u),o})()}updateEmail(u){return c.ag(this._delegate,u)}updatePassword(u){return c.ah(this._delegate,u)}updatePhoneNumber(u){return c.u(this._delegate,u)}updateProfile(u){return c.af(this._delegate,u)}verifyBeforeUpdateEmail(u,o){return c.ac(this._delegate,u,o)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}G.USER_MAP=new WeakMap;const pe=c.ax;let Re=(()=>{class d{constructor(o,h){if(this.app=o,h.isInitialized())return this._delegate=h.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:_}=o.options;pe(_,"invalid-api-key",{appName:o.name}),pe(_,"invalid-api-key",{appName:o.name});const I=typeof window<"u"?O:void 0;this._delegate=h.initialize({options:{persistence:$(_,o.name),popupRedirectResolver:I}}),this._delegate._updateErrorMap(c.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?G.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(o){this._delegate.languageCode=o}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(o){this._delegate.tenantId=o}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(o,h){c.G(this._delegate,o,h)}applyActionCode(o){return c.a2(this._delegate,o)}checkActionCode(o){return c.a3(this._delegate,o)}confirmPasswordReset(o,h){return c.a1(this._delegate,o,h)}createUserWithEmailAndPassword(o,h){var _=this;return(0,a.Z)(function*(){return w(_._delegate,c.a5(_._delegate,o,h))})()}fetchProvidersForEmail(o){return this.fetchSignInMethodsForEmail(o)}fetchSignInMethodsForEmail(o){return c.aa(this._delegate,o)}isSignInWithEmailLink(o){return c.a8(this._delegate,o)}getRedirectResult(){var o=this;return(0,a.Z)(function*(){pe(Y(),o._delegate,"operation-not-supported-in-this-environment");const h=yield c.j(o._delegate,O);return h?w(o._delegate,Promise.resolve(h)):{credential:null,user:null}})()}addFrameworkForLogging(o){!function we(d,u){(0,c.aE)(d)._logFramework(u)}(this._delegate,o)}onAuthStateChanged(o,h,_){const{next:I,error:E,complete:R}=ae(o,h,_);return this._delegate.onAuthStateChanged(I,E,R)}onIdTokenChanged(o,h,_){const{next:I,error:E,complete:R}=ae(o,h,_);return this._delegate.onIdTokenChanged(I,E,R)}sendSignInLinkToEmail(o,h){return c.a7(this._delegate,o,h)}sendPasswordResetEmail(o,h){return c.a0(this._delegate,o,h||void 0)}setPersistence(o){var h=this;return(0,a.Z)(function*(){let _;switch(function yr(d,u){X(Object.values(M).includes(u),d,"invalid-persistence-type"),(0,S.b$)()?X(u!==M.SESSION,d,"unsupported-persistence-type"):(0,S.UG)()?X(u===M.NONE,d,"unsupported-persistence-type"):xe()?X(u===M.NONE||u===M.LOCAL&&(0,S.hl)(),d,"unsupported-persistence-type"):X(u===M.NONE||De(),d,"unsupported-persistence-type")}(h._delegate,o),o){case M.SESSION:_=c.a;break;case M.LOCAL:_=(yield c.az(c.i)._isAvailable())?c.i:c.b;break;case M.NONE:_=c.L;break;default:return c.as("argument-error",{appName:h._delegate.name})}return h._delegate.setPersistence(_)})()}signInAndRetrieveDataWithCredential(o){return this.signInWithCredential(o)}signInAnonymously(){return w(this._delegate,c.X(this._delegate))}signInWithCredential(o){return w(this._delegate,c.Y(this._delegate,o))}signInWithCustomToken(o){return w(this._delegate,c.$(this._delegate,o))}signInWithEmailAndPassword(o,h){return w(this._delegate,c.a6(this._delegate,o,h))}signInWithEmailLink(o,h){return w(this._delegate,c.a9(this._delegate,o,h))}signInWithPhoneNumber(o,h){return We(this._delegate,c.s(this._delegate,o,h))}signInWithPopup(o){var h=this;return(0,a.Z)(function*(){return pe(Y(),h._delegate,"operation-not-supported-in-this-environment"),w(h._delegate,c.c(h._delegate,o,O))})()}signInWithRedirect(o){var h=this;return(0,a.Z)(function*(){return pe(Y(),h._delegate,"operation-not-supported-in-this-environment"),yield Ze(h._delegate),c.f(h._delegate,o,O)})()}updateCurrentUser(o){return this._delegate.updateCurrentUser(o)}verifyPasswordResetCode(o){return c.a4(this._delegate,o)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return d.Persistence=M,d})();function ae(d,u,o){let h=d;"function"!=typeof d&&({next:h,error:u,complete:o}=d);const _=h;return{next:E=>_(E&&G.getOrCreate(E)),error:u,complete:o}}function $(d,u){const o=function Ve(d,u){const o=he();if(!o)return[];const h=c.aA(se,d,u);switch(o.getItem(h)){case M.NONE:return[c.L];case M.LOCAL:return[c.i,c.a];case M.SESSION:return[c.a];default:return[]}}(d,u);if(typeof self<"u"&&!o.includes(c.i)&&o.push(c.i),typeof window<"u")for(const h of[c.b,c.a])o.includes(h)||o.push(h);return o.includes(c.L)||o.push(c.L),o}class B{constructor(){this.providerId="phone",this._delegate=new c.P(Te(p.Z.auth()))}static credential(u,o){return c.P.credential(u,o)}verifyPhoneNumber(u,o){return this._delegate.verifyPhoneNumber(u,o)}unwrap(){return this._delegate}}B.PHONE_SIGN_IN_METHOD=c.P.PHONE_SIGN_IN_METHOD,B.PROVIDER_ID=c.P.PROVIDER_ID;const Er=c.ax;class ze{constructor(u,o,h=p.Z.app()){var _;Er(null===(_=h.options)||void 0===_?void 0:_.apiKey,"invalid-api-key",{appName:h.name}),this._delegate=new c.R(u,o,h.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function ue(d){d.INTERNAL.registerComponent(new _r.wA("auth-compat",u=>{const o=u.getProvider("app-compat").getImmediate(),h=u.getProvider("auth");return new Re(o,h)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:c.A.EMAIL_SIGNIN,PASSWORD_RESET:c.A.PASSWORD_RESET,RECOVER_EMAIL:c.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:c.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:c.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:c.A.VERIFY_EMAIL}},EmailAuthProvider:c.M,FacebookAuthProvider:c.N,GithubAuthProvider:c.T,GoogleAuthProvider:c.Q,OAuthProvider:c.U,SAMLAuthProvider:c.V,PhoneAuthProvider:B,PhoneMultiFactorGenerator:c.m,RecaptchaVerifier:ze,TwitterAuthProvider:c.W,Auth:Re,AuthCredential:c.H,Error:S.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),d.registerVersion("@firebase/auth-compat","0.3.4")}(p.Z)}}]);